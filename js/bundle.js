!function(){"use strict";function t(t){const e=document.querySelector(t);e.classList.add("hide"),e.classList.remove("show"),document.querySelector(".modal__dialog").classList.remove("hide"),document.body.style.overflow=""}function e(t,e){const n=document.querySelector(t);n.classList.add("show"),n.classList.remove("hide"),document.body.style.overflow="hidden",e&&clearTimeout(e)}window.addEventListener("DOMContentLoaded",(()=>{const n=setTimeout((()=>e(".modal",n)),5e4);(function(){const t=document.querySelector(".calculating__result span");let e,n,o,s,a;function r(){t.textContent=e&&n&&o&&s&&a?"female"===e?Math.round((447.6+9.2*o+3.1*n-4.3*s)*a):Math.round((88.36+13.4*o+4.8*n-5.7*s)*a):"____"}function c(t,e){document.querySelectorAll(t).forEach((t=>{t.classList.remove(e),t.id===localStorage.sex&&t.classList.add(e),t.dataset.ratio===localStorage.ratio&&t.classList.add(e)}))}function l(t,n){const o=document.querySelectorAll(t);o.forEach((t=>{t.addEventListener("click",(t=>{t.target.getAttribute("data-ratio")?(a=+t.target.dataset.ratio,localStorage.ratio=a):(e=t.target.getAttribute("id"),localStorage.sex=e),o.forEach((t=>t.classList.remove(n))),t.target.classList.add(n),r()}))}))}function i(t){const e=document.querySelector(t),a=document.createElement("div");a.textContent="Введите число",a.style.cssText="\n\t\t\tcolor: red;\n\t\t\ttransform: translateX(-30px);    \n\t\t\tdisplay: flex;\n\t\t\talign-items: center;    \n\t\t",e.addEventListener("input",(()=>{switch(e.value.match(/\D/g)?(e.style.border="1px solid red",e.after(a)):(e.style.border="",a.remove()),e.getAttribute("id")){case"height":n=+e.value;break;case"weight":o=+e.value;break;case"age":s=+e.value}r()}))}localStorage.sex?e=localStorage.sex:(e="female",localStorage.sex=e),localStorage.ratio?a=localStorage.ratio:(a="1.375",localStorage.ratio=a),c("#gender div","calculating__choose-item_active"),c(".calculating__choose_big div","calculating__choose-item_active"),r(),l("#gender div","calculating__choose-item_active"),l(".calculating__choose_big div","calculating__choose-item_active"),i("#height"),i("#weight"),i("#age")})(),function(){class t{constructor(t,e,n,o,s,a){this.src=t,this.alt=e,this.title=n,this.descr=o,this.price=s,this.exchangeRate=95,this.parent=document.querySelector(a);for(var r=arguments.length,c=new Array(r>6?r-6:0),l=6;l<r;l++)c[l-6]=arguments[l];this.classes=c,this.changeToRUB()}changeToRUB(){this.price*=this.exchangeRate}render(){const t=document.createElement("div");0===this.classes.length?t.classList.add("menu__item"):this.classes.forEach((e=>{t.classList.add(e)})),t.innerHTML=`\t\t\t\t\n\t\t\t\t<img src= ${this.src} alt=${this.alt}>\n\t\t\t\t<h3 class="menu__item-subtitle">${this.title}</h3>\n\t\t\t\t<div class="menu__item-descr">${this.descr}</div>\n\t\t\t\t<div class="menu__item-divider"></div>\n\t\t\t\t<div class="menu__item-price">\n\t\t\t\t\t\t<div class="menu__item-cost">Цена:</div>\n\t\t\t\t\t\t<div class="menu__item-total"><span>${this.price}</span> руб/день</div>\n\t\t\t\t</div>\t\t\t\t\n\t\t\t`,this.parent.append(t)}}(async function(t){let e=await fetch(t);if(!e.ok)throw new Error(`Ошибочка ${t}, status: ${e.status}`);return await e.json()})("http://localhost:3000/menu").then((e=>{e.forEach((e=>{let{img:n,altimg:o,title:s,descr:a,price:r}=e;new t(n,o,s,a,r,".menu .container").render()}))})).catch((t=>console.error(t)))}(),function(n,o){function s(n){document.querySelector(".modal__dialog").classList.add("hide"),e(".modal",o);const s=document.createElement("div");s.classList.add("modal__dialog"),s.innerHTML=`\n\t\t\t<div class="modal__content">\n\t\t\t\t<div class="modal__close" data-close>&times;</div>\n\t\t\t\t<div class="modal__title">${n}</div>\n\t\t\t</div>\n\t\t`,document.querySelector(".modal").append(s),setTimeout((()=>{s.remove(),t(".modal")}),2e3)}document.querySelectorAll(n).forEach((t=>{var e;(e=t).addEventListener("submit",(t=>{t.preventDefault();const n=new FormData(e),o=document.createElement("img");o.src="img/form/spinner.svg",o.style.cssText="\n\t\t\t\tdisplay: block;\n\t\t\t\tmargin: 0 auto;\n\t\t\t",e.after(o),(async(t,e)=>{const n=await fetch("http://localhost:3000/requests",{method:"POST",headers:{"Content-type":"application/json"},body:e});return await n.json()})(0,JSON.stringify(Object.fromEntries(n.entries()))).then((t=>{console.log(t),s("Спасибо! Ожидайте, мы с Вами свяжемся"),o.remove()})).catch((()=>{s("Что-то пошло не так")})).finally((()=>{e.reset()}))}))}))}("form",n),function(n,o,s){const a=document.querySelectorAll(n),r=document.querySelector(o);function c(){window.scrollY+document.documentElement.clientHeight>=document.documentElement.offsetHeight&&(e(o,s),window.removeEventListener("scroll",c))}window.addEventListener("scroll",c),c(),a.forEach((t=>{t.addEventListener("click",(()=>e(o,s)))})),r.addEventListener("click",(e=>{e.target!==r&&""!=e.target.dataset.close||t(o)})),document.addEventListener("keydown",(e=>{"Escape"===e.code&&r.classList.contains("show")&&t(o)}))}("[data-modal]",".modal",n),function(t){let{container:e,slide:n,prevArrow:o,nextArrow:s,currentCounter:a,totalCounter:r,wrapper:c,field:l}=t;const i=document.querySelectorAll(n),d=document.querySelector(e),u=document.querySelector(o),m=document.querySelector(s),h=document.querySelector(a),f=document.querySelector(r),g=document.querySelector(c),v=document.querySelector(l),y=window.getComputedStyle(g).width;let _=1,p=0;function L(){q.forEach((t=>t.style.opacity=".5")),q[_-1].style.opacity="1"}function w(){i.length<10?h.textContent=`0${_}`:h.textContent=_}function S(t){return+t.replace(/\D/g,"")}g.style.overflow="hidden",v.style.width=100*i.length+"%",v.style.display="flex",v.style.transition="0.3s all",i.forEach((t=>{t.style.width=y})),d.style.position="relative";const E=document.createElement("ul"),q=[];E.classList.add("carousel-indicators"),d.append(E);for(let t=0;t<i.length;t++){const e=document.createElement("li");e.setAttribute("data-slide-to",t+1),e.classList.add("dot"),0==t&&(e.style.opacity="1"),E.append(e),q.push(e)}i.length<10?(f.textContent=`0${i.length}`,h.textContent=`0${_}`):(f.textContent=i.length,h.textContent=_),m.addEventListener("click",(()=>{p==S(y)*(i.length-1)?p=0:p+=parseInt(y),v.style.transform=`translateX(-${p}px)`,_==i.length?_=1:_++,w(),L()})),u.addEventListener("click",(()=>{0==p?p=S(y)*(i.length-1):p-=S(y),v.style.transform=`translateX(-${p}px)`,1==_?_=i.length:_--,w(),L()})),q.forEach((t=>{t.addEventListener("click",(t=>{const e=t.target.getAttribute("data-slide-to");_=e,p=S(y),v.style.transform=`translateX(-${p}px)`,w(),L()}))}))}({container:".offer__slider",slide:".offer__slide",prevArrow:".offer__slider-prev",nextArrow:".offer__slider-next",currentCounter:"#current",totalCounter:"#total",wrapper:".offer__slider-wrapper",field:".offer__slider-inner"}),function(t,e,n,o){const s=document.querySelectorAll(t),a=document.querySelectorAll(e);function r(){a.forEach((t=>{t.classList.add("hide"),t.classList.remove("show","fade"),s.forEach((t=>{t.classList.remove(o)}))}))}function c(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;a[t].classList.add("show","fade"),a[t].classList.remove("hide"),s[t].classList.add(o)}document.querySelector(n).addEventListener("click",(e=>{const n=e.target;n&&n.classList.contains(t.slice(1))&&s.forEach(((t,e)=>{n==t&&(r(),c(e))}))})),r(),c()}(".tabheader__item",".tabcontent",".tabheader","tabheader__item_active"),function(t,e){function n(t){return t>=0&&t<10?`0${t}`:t}!function(t,e){const o=document.querySelector(t),s=o.querySelector("#days"),a=o.querySelector("#hours"),r=o.querySelector("#minutes"),c=o.querySelector("#seconds"),l=setInterval(i,1e3);function i(){const t=function(t){let e,n,o,s;const a=Date.parse(t)-Date.parse(new Date);return a>=0?(e=Math.floor(a/864e5),n=Math.floor(a/36e5%24),o=Math.floor(a/6e4%60),s=Math.floor(a/1e3)%60):(e=0,n=0,o=0,s=0),{total:a,days:e,hours:n,minutes:o,seconds:s}}(e);s.innerHTML=n(t.days),a.innerHTML=n(t.hours),r.innerHTML=n(t.minutes),c.innerHTML=n(t.seconds),t.total<=0&&clearInterval(l)}i()}(t,e)}(".timer","2022-10-01")}))}();
//# sourceMappingURL=bundle.js.map